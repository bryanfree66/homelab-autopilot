# Valid config with both PBS and direct storage (PBS takes precedence for VMs/LXCs)

global:
  hypervisor:
    type: proxmox
    host: pve.homelab.local
    username: root@pam
    password: test_password
    verify_ssl: false
  
  backup:
    enabled: true
    root: /mnt/backups
    retention_days: 30
    compression: true
    proxmox_backup_server:
      enabled: true
      server: 192.168.1.100
      port: 8007
      datastore: pbs-datastore
      username: root@pam
      password: pbs_password
      verify_ssl: false
    direct_storage:
      enabled: true
      path: /mnt/nfs/backups
      format: vma
  
  update:
    enabled: true
    auto_update: false
    check_interval_hours: 24
  
  monitoring:
    enabled: true
    check_interval_minutes: 5
  
  notification:
    enabled: true
    type: email
    settings:
      smtp_host: smtp.gmail.com
      smtp_port: 587
      from_addr: autopilot@homelab.local
      to_addr: admin@homelab.local

services:
  - name: plex
    type: lxc
    vmid: 100
    node: pve
    enabled: true
    backup: true
    update: true
    monitor: true
