# Valid test configuration with PBS for Homelab Autopilot

global:
  hypervisor:
    type: proxmox
    host: pve.homelab.local
    username: root@pam
    password: test_password
    verify_ssl: false
  
  backup:
    enabled: true
    root: /mnt/backups
    retention_days: 30
    compression: true
    proxmox_backup_server:
      enabled: true
      server: 192.168.1.100
      port: 8007
      datastore: test-datastore
      username: root@pam
      password: pbs_password
      verify_ssl: false
  
  update:
    enabled: true
    auto_update: false
    check_interval_hours: 24
  
  monitoring:
    enabled: true
    check_interval_minutes: 5
  
  notification:
    enabled: true
    type: email
    settings:
      smtp_host: smtp.gmail.com
      smtp_port: 587
      from_addr: autopilot@homelab.local
      to_addr: admin@homelab.local

services:
  # Proxmox host config backup
  - name: proxmox-host-config
    type: host
    enabled: true
    backup: true
    update: false
    monitor: false
    backup_paths:
      - /root/custom-scripts/

  # LXC container
  - name: plex
    type: lxc
    vmid: 100
    node: pve
    enabled: true
    backup: true
    update: true
    monitor: true
    
  # VM
  - name: nextcloud
    type: vm
    vmid: 200
    node: pve
    enabled: true
    backup: true
    update: true
    monitor: true
    
  # Systemd service
  - name: nginx
    type: systemd
    service_name: nginx.service
    enabled: true
    backup: true
    update: false
    monitor: true
